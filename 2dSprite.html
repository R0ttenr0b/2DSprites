<!DOCTYPE html>
<html>
<head>
  <meta charset ="UTF-8">
  <title>2D Game Sprite</title>
  <style>
canvas {

  width: 640px;
  height: 480px;
}
</style>
</head>
  <body>
  <canvas id="gameCanvas"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    const sprite = new Image();
    sprite.src = 'Idle/0.png';

    const spriteInfo = {
      image: {
        src: 'Idle/0.png',
        width: 200,
        height: 200
      },   
      idle: {
        frames: [
          { src: 'Idle/0.png', width: 50, height: 50 },
          { src: 'Idle/1.png', width: 50, height: 50 },
          { src: 'Idle/2.png', width: 50, height: 50 },
          { src: 'Idle/3.png', width: 50, height: 50 },
          { src: 'Idle/4.png', width: 50, height: 50 },
          { src: 'Idle/5.png', width: 50, height: 50 },
          { src: 'Idle/6.png', width: 50, height: 50 },
          { src: 'Idle/7.png', width: 50, height: 50 },
          { src: 'Idle/8.png', width: 50, height: 50 },
          { src: 'Idle/9.png', width: 50, height: 50 },
          { src: 'Idle/10.png', width: 50, height: 50 },
          { src: 'Idle/11.png', width: 50, height: 50 }
        ],
        frameRate: 10
      },
      walkNorth: {
        frames: [
          { src: 'Walk_N/0.png', width: 50, height: 50 },
          { src: 'Walk_N/1.png', width: 50, height: 50 },
          { src: 'Walk_N/2.png', width: 50, height: 50 },
          { src: 'Walk_N/3.png', width: 50, height: 50 }
        ],
        frameRate: 10
      },
      walkSouth: {
        frames: [
          { src: 'Walk_S/0.png', width: 50, height: 50 },
          { src: 'Walk_S/1.png', width: 50, height: 50 },
          { src: 'Walk_S/2.png', width: 50, height: 50 },
          { src: 'Walk_S/3.png', width: 50, height: 50 }
        ],
        frameRate: 10
      },
      walkEast: {
        frames: [
          { src: 'Walk_E/0.png', width: 50, height: 50 },
          { src: 'Walk_E/1.png', width: 50, height: 50 },
          { src: 'Walk_E/2.png', width: 50, height: 50 },
          { src: 'Walk_E/3.png', width: 50, height: 50 }
        ],
        frameRate: 10
      },
      walkWest: {
        frames: [
          { src: 'Walk_W/0.png', width: 50, height: 50 },
          { src: 'Walk_W/1.png', width: 50, height: 50 },
          { src: 'Walk_W/2.png', width: 50, height: 50 },
          { src: 'Walk_W/3.png', width: 50, height: 50 }
        ],
        frameRate: 10
      }
    };
    
    const frames = {
  idle: spriteInfo.idle.frames.map((frame) => {
    const image = new Image();
    image.src = frame.src;
    return { image, width: frame.width, height: frame.height };
  }),
  walkNorth: spriteInfo.walkNorth.frames.map((frame) => {
    const image = new Image();
    image.src = frame.src;
    return { image, width: frame.width, height: frame.height };
  }),
  walkSouth: spriteInfo.walkSouth.frames.map((frame) => {
    const image = new Image();
    image.src = frame.src;
    return { image, width: frame.width, height: frame.height };
  }),
  walkEast: spriteInfo.walkEast.frames.map((frame) => {
    const image = new Image();
    image.src = frame.src;
    return { image, width: frame.width, height: frame.height };
  }),
  walkWest: spriteInfo.walkWest.frames.map((frame) => {
    const image = new Image();
    image.src = frame.src;
    return { image, width: frame.width, height: frame.height };
  })
};

    let animationState = 'idle';
    let frameIndex = 0;
    let x = canvas.width / 2;
    let y = canvas.height / 2;
    let moveX = 0;
    let moveY = 0;

    function drawSprite() {
      const frame = frames[animationState][frameIndex];
      ctx.drawImage(frame.image, x, y, frame.width, frame.height);
    }
      function updateAnimationState() {
      if (moveX < 0) {
        animationState = 'walkWest';
      } else if (moveX > 0) {
        animationState = 'walkEast';
      } else if (moveY < 0) {
        animationState = 'walkNorth';
      } else if (moveY > 0) {
        animationState = 'walkSouth';
      } else {
        animationState = 'idle';
      }
    }


    function updatePosition(){
x += moveX;
y += moveY;

if(x <0) {

  x=0;
 } else if (x > canvas.width - frames[animationState][frameIndex].width) {
        x = canvas.width - frames[animationState][frameIndex].width;
}


if (y < 0) {
        y = 0;
      } else if (y > canvas.height - frames[animationState][frameIndex].height) {
        y = canvas.height - frames[animationState][frameIndex].height;
      }
    

      function updateFrameIndex() {
      frameIndex++;
      if (frameIndex >= frames[animationState].length) {
        frameIndex = 0;
      }
    }

    function update() {
      updateAnimationState();
      updatePosition();
      updateFrameIndex();
    }

    function loop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawSprite();
      update();
      requestAnimationFrame(loop);
    }

    }

    function handleKeyDown(event){
      if (event.key === 'ArrowLeft'){
      moveX = -5
      } 
        else if (event.key =="ArrowRight"){
        moveX = 5
        }
        else if (event.key =="ArrowUP"){
        moveY = -5
        }
        else if (event.key =="ArrowDown"){
        move = 5
        }
      }

    sprite.onload = () => {
      loop();
    };

    </script>

</body>
</html>